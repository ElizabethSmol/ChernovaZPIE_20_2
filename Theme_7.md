# Тема 7. Работа с файлами (ввод, вывод)
Отчет по Теме #7 выполнила:
- Чернова Елизавета Андреевна
- ЗПИЭ-20-2

| Задание | Сам_раб |
| ------ | ------ |
| Задание 1 | + |
| Задание 2 | + | 
| Задание 3 | + | 
| Задание 4 | + |
| Задание 5 | + |

знак "+" - задание выполнено; знак "-" - задание не выполнено;

Работу проверили:
- к.э.н., доцент Панов М.А.

## Самостоятельная работа №1
###  Найдите в интернете любую статью (объем статьи не менее 200 слов), скопируйте ее содержимое в файл и напишите программу, 
###  которая считает количество слов в текстовом файле и определит самое часто встречающееся слово. 
###  Результатом выполнения задачи будет: скриншот файла со статьей, листинг кода, и вывод в консоль, в котором будет указана вся необходимая информация.

```python
def count_w(text):
    w = re.findall(r'\w+', text.lower())
    counts = {}
    for word in w:
        if word in counts:
            counts[word] += 1
        else:
            counts[word] = 1
    return counts

file_path = 'sam_7_1.txt'
with open(file_path, 'r', encoding='utf-8') as file:
    text = file.read()

word_count = count_w(text)

often_word = max(word_count, key=word_count.get)
count = word_count[often_word]

print(f"Общее количество слов: {sum(word_count.values())}")
print(f"Самое часто встречающееся слово: '{often_word}' (встречается {count} раз)")
```

### Результат.
![Меню](https://github.com/ElizabethSmol/ChernovaZPIE_20_2/blob/pic/sam_7_1.PNG)
![Меню](https://github.com/ElizabethSmol/ChernovaZPIE_20_2/blob/pic/sam_7_1_txt.PNG)

## Выводы

В данном коде импортируется библиотека re, которая Использует re.findall для разбивки текста на слова. 
Регулярное выражение r'\w+' находит все последовательности букв и цифр в тексте, считая их словами. 
Создается функция count_w(text), которая принимает текст в качестве аргумента и выполняет подсчет слов в этом тексте. Инициализирует в этой функции пустой словарь counts, который будет использоваться для подсчета слов и их количества.
Возвращает словарь counts, в котором ключи - это слова, а значения - количество их вхождений. Открывает текстовый файл с именем, указанным в переменной file_path, и читает его содержимое в переменную text.
Ыыводятся строки с использованием функции `print()`. Строки содержат значение:

1. `print(f"Общее количество слов: {sum(word_count.values())}")`: Выводится "Общее количество слов: 374" с помощью функции count_w(text) с текстом из файла, чтобы получить словарь word_count, который содержит подсчитанные слова и их количество.

2. `print(f"Самое часто встречающееся слово: '{often_word}' (встречается {count} раз)")`: Выводится "Самое часто встречающееся слово: 'в' (встречается 17 раз)", используя функцию max() с аргументом key=word_count.get. Это позволяет найти ключ (слово), для которого значение (количество) максимально.

## Самостоятельная работа №2
###  У вас появилась потребность в ведении книги расходов, посмотрев все существующие варианты вы пришли к выводу что вас ничего не устраивает и нужно все делать самому. 
### Напишите программу для учета расходов. Программа должна позволять вводить информацию о расходах, сохранять ее в файл и выводить существующие данные в консоль. 
### Ввод информации происходит через консоль. 
### Результатом выполнения задачи будет: скриншот файла с учетом расходов, листинг кода, и вывод в консоль, с демонстрацией работоспособности программы.

```python
def input_expenses():
    name = input("Введите название расхода: ")
    summa = float(input("Введите сумму расхода: "))
    return {"название": name, "сумма": summa}

def save_expenses(expenses):
    with open("расходы.txt", "a") as file:
        file.write(f"{expenses['название']}: {expenses['сумма']} руб.\n")

def main():
    try:
        with open("расходы.txt", "r") as file:
            expenses = file.read()
            if expenses:
                print("Список расходов:")
                print(expenses)
            else:
                print("Список расходов пуст.")
    except FileNotFoundError:
        print("Файл с расходами не найден.")

while True:
    print("\nВыберите действие:")
    print("1. Ввести новую информацию о расходах")
    print("2. Вывести существующие расходы")
    print("3. Выход")

    выбор = input("Номер действия: ")

    if выбор == "1":
        expenses = input_expenses()
        save_expenses(expenses)
        print("Расход сохранен.")
    elif выбор == "2":
        main()
    elif выбор == "3":
        break
    else:
        print("Некорректный ввод. Пожалуйста, выберите действие снова.")

if __name__ == "__main__":
     main()
```
### Результат.
![Меню](https://github.com/ElizabethSmol/ChernovaZPIE_20_2/blob/pic/sam_7_2.PNG)
![Меню](https://github.com/ElizabethSmol/ChernovaZPIE_20_2/blob/pic/sam_7_2_txt.PNG)

## Выводы


В конце кода есть условие if __name__ == "__main__":, которое запускает функцию main() при запуске скрипта. Таким образом, при запуске скрипта выводятся существующие расходы.

В данном коде создаются функции
1. input_expenses() позволяет вводить информацию о расходах, включая название и сумму.
2. save_expenses(expenses) сохраняет введенные расходы в файл "расходы.txt". Расходы добавляются в файл в формате "название: сумма руб.".
3. main() предназначена для вывода существующих данных о расходах. Она пытается открыть файл "расходы.txt", читает его содержимое и выводит его на экран. Если файл не найден или пуст, выводится соответствующее сообщение.

Основной блок кода запускается в цикле while True, который выполняется до тех пор, пока пользователь не выберет опцию "Выход". В конце кода есть условие if __name__ == "__main__":, которое запускает функцию main() при запуске скрипта. Таким образом, при запуске скрипта выводятся существующие расходы.
Также выводятся строки с использованием функции `print()`. Строки содержат значение:

1. `print("1. Ввести новую информацию о расходах")`: Выводится "Ввести новую информацию о расходах" (1): вызывает функцию input_expenses(), чтобы ввести данные о расходах, и сохраняет их в файл.
2. `print("2. Вывести существующие расходы")`: Выводится "Вывести существующие расходы" (2): вызывает функцию main(), чтобы показать существующие данные о расходах.
3. `print("3. Выход")`: Выводится "Выход" (3): завершает программу.
   
## Самостоятельная работа №3
### Имеется файл input. txt с текстом на латинице. Напишите программу, которая выводит следующую статистику по тексту: количество букв латинского алфавита; число слов; число строк.
### • Текст в файле:
### Beautiful is better than ugly.
### Explicit is better than implicit.
### Simple is better than complex.
### Complex is better than complicated.
### • Ожндаемый результат:
### Input file contains:
### 108 letters
### 20 words
### 4 lines
```python
with open("input.txt", "r") as file:
    text = file.read()

count_letters = sum(1 for ch in text if ch.isalpha())

count_words = len(text.split())

count_lines = text.count('\n') + 1
print('Input file contains:')
print(f"{count_letters} letters")
print(f"{count_words} words")
print(f"{count_lines} lines")
```
### Результат.
![Меню](https://github.com/ElizabethSmol/ChernovaZPIE_20_2/blob/pic/sam_7_3.PNG)

## Выводы

Данный код создает открывает файл "input.txt" в режиме чтения ("r") с использованием оператора with, считывает всё содержимое файла и сохраняет его в переменной text. Также выводятся строки с использованием функции `print()`. Строки содержат значения:

1. `print('Input file contains:')`: Выводится 'Input file contains:'.
2. `print(f"{count_letters} letters")`: Выводится '108 letters', вычисляет количество букв в тексте, используя генераторное выражение и метод isalpha(), чтобы проверить, является ли каждый символ буквой алфавита. Выражение sum(1 for ch in text if ch.isalpha()) подсчитывает общее количество букв..
3. `print(f"{count_words} words")`: Выводится '20 words', вычисляет количество слов в тексте, разбивая текст на слова с помощью метода split() и затем подсчитывает длину получившегося списка.
4. `print(f"{count_lines} lines")`: Выводится '4 lines', вычисляет количество строк в тексте, подсчитывая вхождения символов новой строки (\n) и добавляя 1, чтобы учесть последнюю строку.

## Самостоятельная работа №4
###  Напишите программу, которая получает на вход предложение. выводит его в терминал, заменяя все запрещенные слова звездочками * (количество звездочек равно количеству букв в слове). 
### Запрещенные слова, разделенные символом пробела, хранятся в текстовом файле input.txt. Все слова в этом файле записаны в нижнем регистре. Программа должна заменить запрещенные слова, где бы они ни встречались, даже в середино другого слова. 
### Замена производится независимо от регистра: если
### файл input.txt содержит запрещенное слово exam, то слова exam,
### Exam, ExaM, EXAM и exAm должны быть заменены на ****.
### • Запрещенные слова:
### hello email python the exam wor is
### • Предложение для проверки
### Hello, world! Python IS the programming language of thE future. My EMAIL is....
### PYTHON is awesome!!!
### Ожидаемый результат
### *****, ***Id! ****** ** *** programming language of *** future. My ***** **....
### ****** ** awesome!!!

```python
def change_id(tup, employee_id):
    start_idx = tup.index(employee_id) if employee_id in tup else -1
    if start_idx == -1:
        return (0)

    end_idx = tup[start_idx + 1:].index(employee_id) if employee_id in tup[start_idx + 1:] else -1
    if end_idx == -1:
        return tup[start_idx:]

    end_idx += start_idx + 1

    return tup[start_idx:end_idx + 1]


print(change_id(tuple(map(int, input("Введите кортеж: ").split())),
                                 int(input("Введите ID сотрудника: "))))
```
### Результат.
![Меню](https://github.com/ElizabethSmol/ChernovaZPIE_20_2/blob/pic/sam_7_4.PNG)

## Выводы

В данном коде создается функция change_id(tup, employee_id) и выводятся строки с использованием функции `print()`. Каждая строка содержит разные значения:

1. `print(change_id(tuple(map(int, input("Введите кортеж: ").split())),
                                 int(input("Введите ID сотрудника: "))))": строка выводит "Введите кортеж:" "Введите ID сотрудника: ", 
используя вызов функции change_id(tuple(map(int, input("Введите кортеж: ").split()), который находит диапазон в tup, который начинается с первого вхождения employee_id и заканчивается вторым вхождением (включительно)



## Самостоятельная работа №5
### Самостоятельно придумайте и решите задачу, которая будег: взаимодействовать с текстовым файлом.

```python
def main(i):
    count = {}
    res = []

    for item in i:
        if item in count:
            count[item] += 1
        else:
            count[item] = 1

    for item, count in count.items():
        if count > 1:
            res.append(item)

    return res

print(main([1, 2, 2, 3, 4, 4, 5]))
print(main([10, 20, 30, 40, 50]))
print(main([100]))
```
### Результат.
![Меню](https://github.com/ElizabethSmol/ChernovaZPIE_20_2/blob/pic/sam_7_5.PNG)

## Выводы

В данном коде создается функция main(i) с двумя циклами for, в первом подсчитывается количество вхождений, и во втором находятся дубликаты , далее выводятся строки с использованием функции `print()`. Каждая строка содержит разные значения:

1. `print(main([1, 2, 2, 3, 4, 4, 5]))`: строка выводит [2, 4], используя вызов функции main();
2. `print(main([10, 20, 30, 40, 50]))`: строка выводит [], используя вызов функции main();
3. `print(main([100]))`: строка выводит [], используя вызов функции main().

## Общие выводы по теме
Таким образом, при работе по теме 6, мы сделали вывод, что словари: отлично подходят для хранения данных в форме ключ-значение. Доступ к данным осуществляется по ключу, что обеспечивает быстрый поиск и извлечение данных.
Кортежи: Используются для хранения неизменяемых последовательностей элементов. Они могут быть полезны, когда необходима надежность и неизменяемость данных.
Выбрать коллекцию нужно под определенную задачу, ко
